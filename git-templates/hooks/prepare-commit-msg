#!/bin/zsh

COMMIT_MSG_FILE=$1
COMMIT_SOURCE=$2
SHA1=$3

# Read the first word of the commit message and capitalize it
FIRST_WORD=$(head -n1 $COMMIT_MSG_FILE | awk '{print toupper(substr($1,1,1)) tolower(substr($1,2));}')

# Create an associative array for emojis with the first word included
typeset -A emoji_map
emoji_map=(
    "Initial" "ğŸ‰ Initiate"
    "Start" "ğŸ‰ Initiate"
    "First_commit" "ğŸ‰ Initiate"
    "Firstcommit" "ğŸ‰ Initiate"
    "Add" "âœ¨ Add"
    "Clean" "ğŸ§¹ Clean"
    "Configure" "âš™ï¸ Configure"
    "Correct" "âœï¸ Correct typo"
    "Correcttypo" "âœï¸ Correct typo"
    "Correct_typo" "âœï¸ Correct typo"
    "Deploy" "ğŸš€ Deploy"
    "Document" "ğŸ“ Document"
    "Downgrade" "â¬‡ï¸ Downgrade"
    "Experiment" "ğŸ§ª Experiment"
    "Expand" "ğŸ“ˆ Expand"
    "Fix" "ğŸ•¸ï¸ Fix"
    "Fixbug" "ğŸ•¸ Fix"
    "Fix_bug" "ğŸ•¸ï¸ Fix"
    "Hotfix" "ğŸš‘ Hotfix"
    "Localize" "ğŸŒ Localize"
    "Move" "ğŸšš Move"
    "Optimize" "âš¡ï¸ Optimize"
    "Refactor" "ğŸ”¨ Refactor"
    "Remove" "ğŸ”¥ Remove"
    "Revert" "âª Revert"
    "Secure" "ğŸ”’ Secure"
    "Style" "ğŸ’… Style"
    "Test" "ğŸ§ª Test"
    "Update" "ğŸŒŸ Update"
    "Updateui" " ğŸ¨ Update UI"
    "Update_ui" " ğŸ¨ Update UI"
    "Update_comment" "ğŸ’¡ Update comment"
    "Updatecomment" "ğŸ’¡ Update comment"
    "Update_copy" "ğŸ’¬ Update copy"
    "Updatecopy" "ğŸ’¬ Update copy"
    "Upgrade" "â¬†ï¸ Upgrade"
    "Tag" "ğŸ”– Tag"
    "Wip" "ğŸš§ WIP"
    "WIP" "ğŸš§ WIP"
)

# Check if the first word is in the map
if [[ ${emoji_map[$FIRST_WORD]} ]]; then
    # Replace the first word with the corresponding emoji and description
    sed -i '' "1s/^[^ ]* */${emoji_map[$FIRST_WORD]} /" $COMMIT_MSG_FILE
fi